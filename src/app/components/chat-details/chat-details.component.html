<div class="container">
    <div class="header">
        <div class="info">
            <img [src]="getAvatarUrl(chat.name)" alt="avatar">
            <div>
                <h2>{{chat.name}}</h2>
                <span>{{chat.type}}</span>
            </div>
            
        </div>
        
    </div>
    <div class="body">
        @for (m of messages; track m.id) {
            @if (verifSender(m.sender.username)) {
                <div class="msg-container">
                    <div class="msg-sended">
                        <div class="msg-content">
                            <span style="color: black;">You</span>
                            <p class="content">{{m.content}}</p>
                            <p class="time">{{formatTimestamp(m.timestamp)}}</p>
                        </div>
                    </div>
                </div>
            } @else {
                <div class="msg-container">
                    <div class="msg">
                        <img [src]="getAvatarUrl(m.sender.username)">
                        <div class="msg-content">
                            <span>{{m.sender.username}}</span>
                            <p class="content">{{m.content}}</p>
                            <p class="time">{{formatTimestamp(m.timestamp)}}</p>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
    <div class="footer">
        <input
            pInputText
            type="text"
            [(ngModel)]="message"
            placeholder="Type a messageâ€¦"
            class="message-input"
            (keydown.enter)="sendMessage()"
        />

        <button
            pButton
            icon="pi pi-send"
            class="send-btn"
            (click)="sendMessage()"
            [disabled]="!message?.trim()"
        ></button>
    </div>
</div>